<div class="heading">
    <i class="bi bi-shop"></i>  ShopEase
    <input type="text" placeholder="Search products..." class="searchtab" [(ngModel)]="term" (keypress)="filterProducts()" >
    <div class="magnifydiv">
        <i class="bi bi-search"></i>
    </div>
    <div class="cartdiv cla">
        <i class="bi bi-cart3"></i>
        Cart
    </div>
    <p class="cla logout" routerLink="/login"><i class="bi bi-box-arrow-right"></i> Logout</p>
    <div  class="cla admin" routerLink="/admin">
        <i class="bi bi-gear"></i>
        Admin
    </div>
</div>


<div class="description">
   <h1>Welcome to ShopEase</h1>
   <p>Discover amazing products at unbeatable prices</p>
</div>
<div class="mainbox">
<div class="sortbox">
   <h5><i class="bi bi-funnel"></i> Filters</h5>
   <hr>
   <label for="" class="leftitems">Sort By</label>
   <br>
   <select name="" id="" class="leftitems inputs" [(ngModel)]="selectedSort" (change)="sortProducts()">
      <option value="">Default</option>
      <option value="low-high">Price: Low → High</option>
      <option value="high-low">Price: High → Low</option>
      <option value="a-z">Name: A → Z</option>
      <option value="z-a">Name: Z → A</option>
</select>
   
<label for="" class="leftitems">Items per page</label>
<br>
   <select name="" id="items" class="leftitems inputs" [(ngModel)]="limit" (change)="limitproducts()">
      <option value="5">5 products</option>
      <option value="10">10 products</option>
      <option value="15">15 products</option>
      <option value="20">20 products</option>
   </select>
<br>
<button class="clearbutton leftitems inputs"> <i class="bi bi-x-circle"></i> Clear Filters </button>
</div>
<div class="productspage" style="background-color: rgb(248,250,252);">
     <h4>16 Products Found</h4>
     <div style="display: flex; padding: 20px; flex-wrap: wrap; ">
<div *ngFor="let product of products" style="margin: 30px; background-color: white;">
  <img src="{{product.imageUrl}}" alt="" style="width: 250px; height: 220px;">
  <div style="padding: 10px ;">
    <h5 style="font-size: 16px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin-top: 10px;">{{product.name}}</h5>
    <div [style.color]="'rgb(245,158,11)'" style="display: flex; font-size: 20px;">
       {{getStars(product.rating)}} 
       <p style="color:rgb(158, 154, 154); margin-left:10px; ">({{product.numReviews}})</p>
        
    </div>
   <app-rating [rating]="3"></app-rating>


   
    <div style="display: flex;">
       <p style=" margin-right: 15px; color: rgb(68,99,235); font-size: 20px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 700; margin-top: 0;">${{product.discountPrice}}</p>
       <del><p style="color:gray;">${{product.price}}</p></del>
       <p style="margin-left: 15px; background-color: rgb(22,163,74); color: white; border-radius: 5px; border: 0; width: 70px; height: 25px; text-align: center; font-size: 14px;">
         {{ getDiscountPercent(product.price, product.discountPrice) }}% OFF   
       </p>
    </div>
    <div [ngClass]="product.freeDelivery ? 'free' : 'paid'" style="margin-left: 5px; color: rgb(22,163,74); font-weight: 500; ">
        <i class="bi bi-truck"></i>  {{ product.freeDelivery ? 'Free Delivery' : '₹' + product.deliveryCharges }}
    </div>
    <div style="margin-top: 10px;">
        <button style="border: 1px solid blue; color: blue; margin: 10px 10px 10px 0px; height: 30px; border-radius: 5px; background-color: white;" routerLink="/dashboard/products/{{product._id}}"  ><i class="bi bi-eye"></i> View</button>
        <button style="color: white; background-color: blue; height: 30px; border-radius: 5px; border: 0;"><i class="bi bi-cart-plus"></i> Add</button>
    </div>
</div>
</div>
</div>


</div>
</div>